(function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(a,'__esModule',{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&'object'==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,'default',{enumerable:!0,value:a}),2&c&&'string'!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=0)})([function(a,b,c){'use strict';var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,'__esModule',{value:!0}),c(1);const e=d(c(2));let f=new e.default;f.start()},function(){},function(a,b,c){'use strict';var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,'__esModule',{value:!0});const e=d(c(3)),f=d(c(5)),g=d(c(6));b.default=class{constructor(){this.lastTime=0,this.dropInterval=1e3,this.dropCounter=0,this.start=()=>{this.board.init(),this.currentPiece=g.default.newPiece().setPosX(4).setPosY(-2),this.loodGame(0)},this.loodGame=(a=0)=>{let b=a-this.lastTime;this.lastTime=a,this.dropCounter+=b,this.dropCounter>this.dropInterval&&(this.stepDown(),this.dropCounter=0),this.display.clearBoard(),this.display.paintBoard(this.board.getBoard()),this.display.paintPiece(this.currentPiece),requestAnimationFrame(this.loodGame)},this.stepDown=()=>{this.board.hasCollision(this.currentPiece),this.currentPiece.setPosY(this.currentPiece.getPosY()+1)},this.display=new e.default(this),this.board=new f.default,this.currentPiece=g.default.newPiece()}}},function(a,b,c){'use strict';var d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,'__esModule',{value:!0});const e=d(c(4));class f extends e.default{constructor(a){super(),this.clearBoard=()=>{this.ctx.clearRect(0,0,500,1e3)},this.paintBoard=(a)=>{for(let b=0;10>b;b++)for(let c=0;20>c;c++)this.fillSquare(b,c,this.color(a[b][c]).blocked)},this.paintPiece=(a)=>{let b=a.getShape(),c=a.getPosX(),d=a.getPosY();for(let e,f=0;f<b.length;f++){e=b[f],c=a.getPosX();for(let a=0;a<e.length;a++)0<e[a]&&this.fillSquare(c,d,this.color(e[a]).active),c++;d++}},this.fillSquare=(a,b,c='tomato',d='gray')=>{this.ctx.beginPath(),this.ctx.fillStyle=c,this.ctx.fillRect(50*a,50*b,50,50),this.ctx.strokeStyle=d,this.ctx.strokeRect(50*a,50*b,50,50),this.ctx.stroke()},this.game=a;const b=document.getElementById('display');this.ctx=b.getContext('2d')}}b.default=f},function(a,b){'use strict';Object.defineProperty(b,'__esModule',{value:!0});b.default=class{constructor(){this.color=(a)=>{return{0:{blocked:'#666666'},1:{active:'#AA00FF',blocked:'#AA00FF'},2:{active:'#FFA500',blocked:'#FFA500'},3:{active:'#0000FF',blocked:'#0000FF'},4:{active:'#FFFF00',blocked:'#FFFF00'},5:{active:'#00FF00',blocked:'#00FF00'},6:{active:'#FF0000',blocked:'#FF0000'},7:{active:'#00FFFF',blocked:'#00FFFF'}}[a]}}}},function(a,b){'use strict';Object.defineProperty(b,'__esModule',{value:!0});b.default=class{constructor(){this.board=[],this.init=()=>{this.board=Array(10);for(let a=0;10>a;a++){this.board[a]=Array(20);for(let b=0;20>b;b++)this.board[a][b]=0}},this.getBoard=()=>this.board,this.keepPiece=()=>!0,this.hasCollision=()=>!1,this.init()}}},function(a,b){'use strict';Object.defineProperty(b,'__esModule',{value:!0});class c{constructor(a,b=0,c=0){this.shape=[],this.posX=0,this.posY=0,this.setPosX=(a)=>(this.posX=a,this),this.setPosY=(a)=>(this.posY=a,this),this.rotate=(a='left')=>('left'!=a&&'right'!=a,this),this.getShape=()=>this.shape,this.getPosX=()=>this.posX,this.getPosY=()=>this.posY,this.shape=a,this.posX=b,this.posY=c}}b.default=c,c.newPiece=(a=null)=>{return null==a&&(a=Math.floor(7*Math.random())+1),new c({1:[[0,0,0],[1,1,1],[0,1,0]],2:[[0,2,0],[0,2,0],[0,2,2]],3:[[0,3,0],[0,3,0],[3,3,0]],4:[[4,4],[4,4]],5:[[0,0,0],[5,5,0],[0,5,5]],6:[[0,0,0],[0,6,6],[6,6,0]],7:[[0,7,0,0],[0,7,0,0],[0,7,0,0],[0,7,0,0]]}[a])}}]);